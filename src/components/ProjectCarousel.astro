---
import { Icon } from "astro-icon";
import { Image } from "@astrojs/image/components";

interface SlidesData {
  slides: {
    image: string;
    title: string;
  }[];
}

export interface Props extends astroHTML.JSX.AnchorHTMLAttributes {
  props: SlidesData;
}
const { props } = Astro.props;
---

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
/>
<div class="swiper relative">
  <!-- Additional required wrapper -->
  <div class="swiper-wrapper">
    <!-- Slides -->
    {
      props.slides.map((slide) => (
        <div class="swiper-slide relative">
          <Image
            src={slide.image}
            alt={slide.title}
            width={1860}
            height={970}
          />
          <span class="absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-0.5 rounded-full text-base font-semibold bg-yellow-100 text-yellow-900">
            {slide.title}
          </span>
        </div>
      ))
    }
  </div>
  <!-- If we need navigation buttons -->
  <button
    type="button"
    class="prev absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
  >
    <span
      class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-neutral-50/30 dark:bg-neutral-800/30 group-hover:bg-neutral-50/50 dark:group-hover:bg-neutral-800/60 group-focus:ring-4 group-focus:ring-neutral-50 dark:group-focus:ring-neutral-800/70 group-focus:outline-none"
    >
      <Icon
        name="mdi:chevron-left"
        class="w-5 h-5 text-neutral-50 sm:w-6 sm:h-6"
      />
      <span class="sr-only">Previous</span>
    </span>
  </button>
  <button
    type="button"
    class="next absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
  >
    <span
      class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-neutral-50/30 dark:bg-neutral-800/30 group-hover:bg-neutral-50/50 dark:group-hover:bg-neutral-800/60 group-focus:ring-4 group-focus:ring-neutral-50 dark:group-focus:ring-neutral-800/70 group-focus:outline-none"
    >
      <Icon
        name="mdi:chevron-right"
        class="w-5 h-5 text-neutral-50 sm:w-6 sm:h-6"
      />
      <span class="sr-only">Next</span>
    </span>
  </button>
</div>

<script type="module">
  import Swiper from "https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.esm.browser.min.js";

  const swiper = new Swiper(".swiper", {
    // Optional parameters
    direction: "horizontal",
    loop: true,

    // Navigation arrows
    navigation: {
      nextEl: ".next",
      prevEl: ".prev",
    },
  });
</script>
